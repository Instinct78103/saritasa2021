(function(t){function e(e){for(var r,o,i=e[0],c=e[1],u=e[2],g=0,f=[];g<i.length;g++)o=i[g],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],r=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},n={app:0},a=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[this.$store.getters.getLoaded?s("div",[s("Header"),s("AllPosts",{attrs:{category:t.$store.state.filter.cat,tag:t.$store.state.filter.tag}}),t.$store.state.isButtonVisible?s("div",{staticClass:"pagination"},[s("button",{staticClass:"sar-btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.showMore(e)}}},[t._v("View More")])]):t._e()],1):s("vue-ins-progress-bar")],1)},a=[],o=(s("d81d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"posts-filter"},[s("ul",{staticClass:"main-filter"},[t._l(t.allCats,(function(e,r){return s("li",{key:r},[s("button",{staticClass:"sar-btn-grey",class:r===t.$store.getters.getFilter.cat?"active":"",attrs:{href:"#","data-category":r},on:{click:function(e){return e.preventDefault(),t.chooseCategory(e)}}},[t._v(t._s(e.name||"All Categories")+" ")])])})),s("li",[s("a",{staticClass:"toggle-list",class:t.tagsVisible?"active":"",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.tagsVisible=!t.tagsVisible}}},[s("svg",{attrs:{id:"svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"19",height:"12.002",viewBox:"0, 0, 400,252.63157894736844"}},[s("g",{attrs:{id:"svgg"}},[s("path",{attrs:{id:"path0",d:"M0.000 26.279 L 0.000 52.558 200.000 52.558 L 400.000 52.558 400.000 26.279 L 400.000 0.000 200.000 0.000 L 0.000 0.000 0.000 26.279 M56.222 95.011 C 54.115 95.227,53.650 95.400,53.262 96.113 C 52.265 97.949,52.323 155.137,53.324 156.644 C 54.229 158.007,44.218 157.920,200.918 157.924 L 346.119 157.928 346.256 157.404 C 346.332 157.116,346.629 156.818,346.917 156.743 L 347.442 156.606 347.442 126.945 C 347.442 107.339,347.356 97.284,347.189 97.284 C 347.050 97.284,346.936 97.069,346.936 96.806 C 346.936 95.662,346.180 95.247,343.650 95.002 C 340.823 94.729,58.902 94.738,56.222 95.011 M139.243 200.400 C 136.874 200.868,136.958 199.833,136.957 228.490 L 136.955 252.685 200.000 252.685 L 263.045 252.685 263.026 227.732 C 263.005 200.697,263.038 201.352,261.635 200.632 C 260.787 200.196,141.420 199.971,139.243 200.400 ",stroke:"none",fill:"#045c7c","fill-rule":"evenodd"}})])]),s("span",[t._v("Tags")])])])],2),t.tagsVisible?s("ul",{staticClass:"sub-filter"},t._l(t.allTags,(function(e,r){return s("li",{key:r},[s("button",{staticClass:"sar-btn-link",class:e===t.$store.getters.getFilter.tag?"active":"",attrs:{"data-tag":e},on:{click:function(e){return e.preventDefault(),t.chooseTag(e)}}},[t._v(" "+t._s(e)+" ")])])})),0):t._e()])}),i=[],c={name:"Header",data:function(){return{tagsVisible:!1}},methods:{chooseCategory:function(t){this.$store.dispatch("selectCategory",t.target.dataset.category)},chooseTag:function(t){this.$store.getters.getFilter.tag===t.target.dataset.tag?this.$store.dispatch("selectTag",""):this.$store.dispatch("selectTag",t.target.dataset.tag)}},computed:{allCats:function(){return this.$store.getters.getCats},allTags:function(){return this.$store.getters.getTags}}},u=c,l=s("2877"),g=Object(l["a"])(u,o,i,!1,null,null,null),f=g.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("isotope",{staticClass:"posts-container",attrs:{options:t.options,list:t.chosenPosts}},t._l(t.chosenPosts,(function(e,r){return s("div",{key:r,staticClass:"post-item",class:[e.cats,e.tags?e.tags.map((function(t){return t.replaceAll(" ","-")})):""]},[s("a",{attrs:{href:e.permalink}},[s("div",{staticClass:"post-img",style:{backgroundImage:"url("+e.image+")"}})]),s("div",{staticClass:"content"},[s("p",{staticClass:"tags"},t._l(e.tags,(function(e,r){return s("span",{key:r},[t._v(t._s(e))])})),0),s("a",{attrs:{href:e.permalink}},[s("h2",{staticClass:"heading"},[t._v(" "+t._s(e.title)+" ")])]),s("p",{staticClass:"excerpt"},[t._v(" "+t._s(e.excerpt)+" ")]),s("div",{staticClass:"author"},[s("img",{attrs:{src:e.avatar,alt:""}}),s("div",[s("h3",{staticClass:"author-heading"},[t._v(" "+t._s(e.author)+" ")]),s("p",{staticClass:"author-date"},[t._v(" "+t._s(e.post_date)+" ")])])])])])})),0)},d=[],h=(s("07ac"),s("4de4"),s("caad"),s("2532"),s("0cd3")),m=s.n(h),v={name:"AllPosts",components:{isotope:m.a},data:function(){return{options:{itemSelector:"post-item",masonry:{}}}},computed:{chosenPosts:function(){var t=this,e=[];return e=Object.values(this.$store.getters.getFilter).every((function(t){return""===t}))?this.$store.getters.getPosts:Object.values(this.$store.getters.getFilter).some((function(t){return""===t}))?this.$store.getters.getFilter.cat?this.$store.getters.getPosts.filter((function(e){return e.cats.includes(t.$store.getters.getFilter.cat)})):this.$store.getters.getPosts.filter((function(e){if(e.tags)return e.tags.includes(t.$store.getters.getFilter.tag)})):this.$store.getters.getPosts.filter((function(e){if(e.tags)return e.cats.includes(t.$store.getters.getFilter.cat)&&e.tags.includes(t.$store.getters.getFilter.tag)})),e}}},b=v,_=Object(l["a"])(b,p,d,!1,null,null,null),w=_.exports,y={name:"App",components:{Header:f,AllPosts:w},methods:{showMore:function(){this.$store.dispatch("loadPosts",this.$store.getters.getPosts.map((function(t){return t.ID})))}},created:function(){this.$insProgress.start(),this.$store.dispatch("loadCatsAndTags"),this.$store.dispatch("loadPosts","")},mounted:function(){this.$insProgress.finish()}},C=y,j=Object(l["a"])(C,n,a,!1,null,null,null),$=j.exports,P=s("1da1"),x=s("2909"),O=s("5530"),k=(s("96cf"),s("4fad"),s("b64b"),s("d3b7"),s("a15b"),s("99af"),s("3ca3"),s("ddb0"),s("2f62"));r["a"].use(k["a"]);var T=new k["a"].Store({state:{cats:[],tags:[],posts:[],statusLoaded:!1,filter:{cat:"",tag:""},postsNumber:0,isButtonVisible:!0},getters:{getCats:function(t){return Object(O["a"])({"":"All Categories"},t.cats)},getTags:function(t){return t.filter.cat?Object.entries(t.tags).filter((function(e){return e[1].catsByTag.includes(t.filter.cat)})).map((function(t){return t[0]})):Object.entries(t.tags).map((function(t){return t[0]}))},getPosts:function(t){return t.posts},getLoaded:function(t){return t.statusLoaded},getFilter:function(t){return t.filter}},mutations:{set_cats:function(t,e){t.cats=e},set_tags:function(t,e){t.tags=e},set_loaded:function(t,e){t.statusLoaded=e},set_posts:function(t,e){var s;(s=t.posts).push.apply(s,Object(x["a"])(e))},set_filter:function(t,e){t.filter[Object.keys(e)[0]]=Object.values(e)[0]},set_cat:function(t,e){t.filter.cat=e},set_tag:function(t,e){t.filter.tag=e},set_show_more_button:function(t,e){t.isButtonVisible=e},set_posts_number:function(t,e){t.postsNumber=e}},actions:{loadCatsAndTags:function(t){return Object(P["a"])(regeneratorRuntime.mark((function e(){var s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,fetch("/wp-json/sar/v2/resources/cats_tags");case 4:return r=e.sent,e.next=7,r.json();case 7:n=e.sent,s("set_cats",n.cats),s("set_tags",n.tags);case 10:return e.prev=10,s("set_loaded",!0),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,,10,13]])})))()},loadPosts:function(t,e){var s=this;return Object(P["a"])(regeneratorRuntime.mark((function e(){var r,n,a,o,i,c,u,l,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,n="/wp-json/sar/v2/resources/posts?",a="/wp-json/sar/v2/resources/count_posts?",o={category:s.getters.getFilter.cat,tag:s.getters.getFilter.tag,loaded:s.getters.getPosts.map((function(t){return t.ID}))},i=Object.keys(o).map((function(t){return"".concat(t,"=").concat(o[t])})).join("&").replaceAll(" ","-"),e.next=8,Promise.all([fetch(n+i),fetch(a+i)]);case 8:return c=e.sent,u=c.map((function(t){return t.json()})),e.next=12,Promise.all(u);case 12:l=e.sent,r("set_posts",l[0]),r("set_posts_number",l[1]),g=s,setTimeout((function(){document.querySelectorAll(".post-item").length===g.state.postsNumber?g.dispatch("displayShowMoreButton",!1):g.dispatch("displayShowMoreButton",!0)}),500),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](1),console.warn(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))()},showTagsByCat:function(t,e){return Object(P["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:r=t.commit,r("set_tags",e);case 2:case"end":return s.stop()}}),s)})))()},selectCategory:function(t,e){var s=this;return Object(P["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t.commit,a=t.state,e!==a.filter.cat&&(n("set_cat",e),n("set_tag",""),s.dispatch("loadPosts",s.getters.getPosts.map((function(t){return t.ID}))));case 2:case"end":return r.stop()}}),r)})))()},selectTag:function(t,e){var s=this;return Object(P["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t.commit,n("set_tag",e),s.dispatch("loadPosts",s.getters.getPosts.map((function(t){return t.ID})));case 3:case"end":return r.stop()}}),r)})))()},displayShowMoreButton:function(t,e){return Object(P["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:r=t.commit,r("set_show_more_button",e);case 2:case"end":return s.stop()}}),s)})))()}}}),F=s("fc86"),L=s.n(F),M={position:"fixed",show:!0,height:"3px"};r["a"].use(L.a,M),r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t($)},store:T}).$mount("#app")}});
//# sourceMappingURL=app.js.map